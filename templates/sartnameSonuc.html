{% extends "base.html" %} {% block content %}

<!-- Sonclar kismi-->
<div class="container">
  <div class="row">
    <div class="col">
      <div class="savika-sonuc-container">
        <div class="progress">
          <div
            class="progress-bar progress-bar-striped bg-success"
            role="progressbar"
            aria-valuenow="0"
            aria-valuemin="0"
            aria-valuemax="100"
            style=""
            id="progress-bar"
          ></div>
        </div>
        <h1 class="sonuc_">Şartname Seçimleri</h1>
        <div class="savika-sonuc" id="result">
          <table
            class="table table-hover table-secondary table-striped res-table"
          >
            <thead>
              <tr>
                <th scope="col">Soru</th>

                <th scope="col">Cevap</th>
              </tr>
            </thead>
            <tbody>
              {% for item in range(8) %}
              <tr>
                <th scope="row">{{item+1}}</th>
                {% if results|length < 1 %}
                <td>Seçim Yapılmadı!</td>
                {% else %}
                <td>{{results[item]}}</td>
                {% endif %}
              </tr>
              {% endfor %}
            </tbody>
          </table>
        </div>
        <div
          class="d-flex flex-column justify-content-center align-content-center"
        >
          <a href="/modelSonuc" class="btn btn-primary btn-savika">
            <i class="fa-brands fa-instalod"></i> Savika Başlat
          </a>
        </div>
      </div>
    </div>
  </div>
</div>

<script>
  const btnSavika = document.querySelector(".btn-savika");

  if (btnSavika) {
    btnSavika.addEventListener("click", (event) => {
      let progressBar = document.getElementById("progress-bar");
      let width = 0;
      let interval = 1000; // Interval time in milliseconds
      let increment = (100 - width) / (5000 / interval); // Increment amount

      function increaseProgress() {
        if (width >= 100) {
          clearInterval(progressInterval);
        } else {
          width += increment;
          progressBar.style.width = width + "%";
          progressBar.setAttribute("aria-valuenow", width);
        }
      }

      let progressInterval = setInterval(increaseProgress, interval);
    });
  }
</script>

{% endblock %}
